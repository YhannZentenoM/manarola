---
import Title from "@/components/Title.astro";
import CardProgress from "../CardProgress.astro";
---

<section class="max-w-6xl mx-auto py-14 md:py-28 px-5">
  <Title
    title="Las obras en Manarola no se detienen"
    subtitle="Revisa nuestros avances"
    align="text-center"
    size="text-4xl md:text-6xl"
  />
  <div class="splide mt-10" role="group" aria-label="Splide Basic HTML Example">
    <ul class="splide__pagination"></ul>
    <div class="splide__arrows">
      <button class="splide__arrow splide__arrow--prev bg-accent">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
          ><path
            d="M16.18 3.269a1 1 0 0 0-1.415 0L8.121 9.913a3 3 0 0 0-.001 4.242l6.57 6.575a1 1 0 1 0 1.415-1.414l-6.573-6.572a1 1 0 0 1 0-1.414l6.648-6.647a1 1 0 0 0 0-1.414Z"
            fill="currentColor"></path></svg
        >
      </button>
      <button class="splide__arrow splide__arrow--next">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
          ><path
            d="M16.18 3.269a1 1 0 0 0-1.415 0L8.121 9.913a3 3 0 0 0-.001 4.242l6.57 6.575a1 1 0 1 0 1.415-1.414l-6.573-6.572a1 1 0 0 1 0-1.414l6.648-6.647a1 1 0 0 0 0-1.414Z"
            fill="currentColor"></path></svg
        >
      </button>
    </div>
    <div class="splide__track">
      <ul class="splide__list">
        <CardProgress
          title="Pórtico de ingreso y delimitación de áreas comunes"
          image="Portico"
          active={true}
        />
        <CardProgress
          title="Redes de agua y desagüe"
          image="Redes"
          active={false}
        />
        <CardProgress
          title="Conformación municipal, entrega a propietarios y titulación"
          image="ConformidadMunicipal"
          active={false}
        />
        <CardProgress
          title="Adquisición del terreno"
          image="Adquisicion"
          active={false}
        />
        <CardProgress
          title="Saneamiento legal y cumplimiento de regulaciones y permisos"
          image="Saneamiento"
          active={false}
        />
        <CardProgress
          title="Factibilidad de servicios básicos agua, luz y otros"
          image="Factibilidad"
          active={false}
        />
        <CardProgress
          title="Conformación de vías de acceso y áreas urbanizadas"
          image="ConformidadVias"
          active={false}
        />
      </ul>
    </div>
  </div>

  <style>
    .splide__arrow {
      background: #f08435;
      opacity: 1;
      color: white;
    }
    .splide__arrow:focus {
      outline: none;
    }
    .splide__arrow--prev {
      left: 0px;
    }
    .splide__arrow--next {
      right: 0px;
    }
    .splide__pagination {
      bottom: -1.5em;
    }
    .splide__pagination__page.is-active {
      background: #f08435;
    }
  </style>

  <script>
    import Splide from "@splidejs/splide";
    import "@splidejs/splide/css";
    var splide = new Splide(".splide", {
      type: "loop",
      perPage: 3,
      focus: "center",
      classes: {
        pagination: "splide__pagination",
        page: "splide__pagination__page",
      },
      breakpoints: {
        640: {
          perPage: 2,
        },
        320: {
          perPage: 1,
        },
      }
    });

    splide.mount();
  </script>
</section>
